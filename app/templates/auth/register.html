<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register - ThreatLens AI</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = { theme: { extend: { fontFamily: { body: ["Space Grotesk","ui-sans-serif","system-ui"] } } } };
    </script>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

    <script>
    (function () {
        try {
            const theme = localStorage.getItem("tl_theme");
            if (theme) document.documentElement.setAttribute("data-theme", theme);
        } catch (e) {}
    })();
    </script>
</head>
<body class="auth-bg min-h-screen antialiased font-body text-[color:var(--ink)]">
    <div class="w-[min(460px,92%)] mx-auto rounded-2xl border border-[color:var(--line)] bg-white/75 backdrop-blur p-7 shadow-[var(--shadow)]">
        <div class="flex items-center justify-between gap-3">
            <div class="text-lg font-extrabold tracking-wide">ThreatLens</div>
            <button type="button" id="themeToggle"
                    class="inline-flex items-center justify-center rounded-xl px-4 py-2 font-bold border border-[color:var(--line)] bg-white/60 hover:bg-white/85 transition">
                Theme
            </button>
        </div>

        <h1 class="mt-4 text-3xl font-extrabold">Create Account</h1>
        <p class="mt-2 text-sm text-[color:var(--muted)]">Start scanning suspicious URLs</p>

        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            <div class="alerts">
              {% for category, message in messages %}
                <div class="alert {{ category }}">{{ message }}</div>
              {% endfor %}
            </div>
          {% endif %}
        {% endwith %}

        <form method="POST" class="mt-5 grid gap-3">
            <input name="email" type="email" placeholder="Email" required class="rounded-xl border border-slate-300 bg-white/70 px-4 py-3 outline-none focus:border-emerald-500">
            <input name="password" type="password" placeholder="Password" required class="rounded-xl border border-slate-300 bg-white/70 px-4 py-3 outline-none focus:border-emerald-500">
            <button type="submit"
                    class="mt-1 inline-flex items-center justify-center rounded-xl px-4 py-3 font-extrabold text-white bg-[color:var(--primary)] hover:bg-[color:var(--primary-dark)] shadow-[0_14px_28px_rgba(11,122,106,0.22)] transition">
                Register
            </button>
        </form>

        <div class="my-5 flex items-center gap-3">
            <div class="h-px flex-1 bg-[color:var(--line)]"></div>
            <div class="text-xs font-extrabold tracking-wider text-[color:var(--muted)]">OR</div>
            <div class="h-px flex-1 bg-[color:var(--line)]"></div>
        </div>

        <a href="/auth/google/login"
           class="inline-flex w-full items-center justify-center gap-3 rounded-xl border border-slate-300 bg-white/70 px-4 py-3 font-extrabold hover:bg-white/90 transition">
            <span class="g-icon" aria-hidden="true">
                <svg viewBox="0 0 48 48" width="18" height="18">
                    <path fill="#EA4335" d="M24 9.5c3.54 0 6.26 1.52 7.7 2.8l5.27-5.27C33.9 4.2 29.4 2 24 2 14.62 2 6.59 7.38 2.79 15.2l6.56 5.09C11.16 14.3 17.1 9.5 24 9.5z"/>
                    <path fill="#4285F4" d="M46 24.5c0-1.57-.14-2.68-.45-3.84H24v7.27h12.5c-.25 1.82-1.6 4.56-4.6 6.4l6.99 5.41C43 36.9 46 31.4 46 24.5z"/>
                    <path fill="#FBBC05" d="M9.35 28.6c-.46-1.37-.72-2.83-.72-4.35s.26-2.98.7-4.35L2.78 14.8C1.64 17.08 1 19.64 1 24.25c0 4.61.64 7.17 1.78 9.45l6.57-5.1z"/>
                    <path fill="#34A853" d="M24 46c5.4 0 9.93-1.78 13.24-4.86l-6.99-5.41c-1.87 1.3-4.38 2.2-6.25 2.2-6.9 0-12.83-4.8-14.64-11.4l-6.56 5.1C6.6 40.62 14.62 46 24 46z"/>
                </svg>
            </span>
            Continue with Google
        </a>

        <p class="mt-5 text-sm text-[color:var(--muted)]">
            Already registered?
            <a class="font-extrabold text-[color:var(--primary-dark)] hover:underline" href="/auth/login">Login</a>
        </p>
    </div>

<script>
(function () {
    function toggleTheme() {
        const current = document.documentElement.getAttribute("data-theme") || "light";
        const next = current === "dark" ? "light" : "dark";
        document.documentElement.setAttribute("data-theme", next);
        try { localStorage.setItem("tl_theme", next); } catch (e) {}
    }

    const themeBtn = document.getElementById("themeToggle");
    if (themeBtn) themeBtn.addEventListener("click", toggleTheme);
})();
</script>

</body>
</html>
